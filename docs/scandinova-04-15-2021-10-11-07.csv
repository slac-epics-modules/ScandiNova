StartAddress,EndAddress,Type,Unit,Readonly,General,PVName,Description,Bit,StringRep,Function,ASG,ZNAM,ONAM,ZSV,OSV,UNSV,ZRSV,ONSV,TWSV,THSV,HighHigh,High,Low,LowLow,DRVH,DRVL,Archive
0,0,Int16,,True,Modbus-TCP protocol identification number,,,,,Id number of protocol (can be different for different customers),,,,,,,,,,,,,,,,,
1,1,Int16,,True,Modbus-TCP protocol revision number,,,,,Rev number of protocol (updated each time this document changes),,,,,,,,,,,,,,,,,
2,2,Uint16,,True,The previously received Modbus-TCP watchdog value,,,,,"Copied from the ModbusTcpWatchdog holding register, can be used by the master to monitor this communication",,,,,,,,,,,,,,,,,
3,3,Int16,,True,The actual state of the modulator,,,,,"(* See Strings\State in GUI Resource.xml *)
This is the actual state of the MSM (Main State Machine), example:
StateTarget and StateRead are both ""Trig"" (13)
A solenoid interlock is tripped, this interlock was configured to interlock the ""Hv"" state (9), therefore StateTarget is immediately set to the target level below which is ""StandBy"" (5). Now all units immediately go to ""StandBy"" and report their state to the MSM, when the MSM find that all units are at ""StandBy"" it sets the iStateRead to ""StandBy"".
At the same time StatusBits.HvInlkExist is set to TRUE
Also two events are added to the EventLogg, first the interlock event and then the state event (“StandBy”)
Additionally the interlock event is copied to FirstInterlockEvent in case multiple interlocks occur in sequence this first interlock copy will not be overwritten until a reset is received)
",,,,,,,,,,,,,,,,,
4,4,Uint16,,True,A word containing 16 status bit's,,,,,"	Bit0: StbInlkExist	
 	Bit1: HvInlkExist	
 	Bit2: TrigInlkExist	
 	Bit3: WarningExist	
 	Bit4: OutsideLimits	
 	Bit5: Error	
 	Bit6: Spare	
 	Bit7: Spare	
 	Bit8: Spare	
 	Bit9: Spare	
 	Bit10: Spare	
 	Bit11: Spare	
 	Bit12: Spare	
 	Bit13: Spare	
 	Bit14: Spare
 	Bit15: Spare ",,,,,,,,,,,,,,,,,
5,5,Int16,,True,The current access level,,,,,See Strings\Message 0-3 in GUI Resource.xml,,,,,,,,,,,,,,,,,
6,7,Single,,True,Remaining time of the delay,,,,,Filament warm-up timer,,,,,,,,,,,,,,,,,
8,9,Single,,True,Pulse repetition frequency,,,,,Pulse repetition frequency read value,,,,,,,,,,,,,,,,,
20,20,Int16,,True,Modulator target state,,,,,Currently used setvalue,,,,,,,,,,,,,,,,,
21,22,Single,V,True,Voltage setvalue of all Ccps,,,,,Currently used setvalue,,,,,,,,,,,,,,,,,
23,24,Single,A,True,Filament current setvalue,,,,,Currently used setvalue,,,,,,,,,,,,,,,,,
25,26,Single,µs,True,Pulse width setvalue of all SU's,,,,,Currently used setvalue,,,,,,,,,,,,,,,,,
27,28,Single,Hz,True,Local pulse repetition frequency,,,,,Currently used setvalue,,,,,,,,,,,,,,,,,
100,101,Single,V,True,Voltage read value of Capacitor Charging Power Supply no 1 ,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
120,120,Uint16,V,True,Interlock status bits of Capacitor Charging Power Supply no 1,,,,,"Bit0 ""Mains interlock""
Bit1 ""PwmPulseCount interlock""
Bit2 ""IsaqCom interlock""
Bit3 ""SoftStart interlock""
Bit4 ""Igbt interlock""
Bit5 ""PhaseLoss interlock""
Bit6 ""TransformerTemp interlock""
Bit7 ""RectifierTemp interlock""
Bit8 ""IgbtTemp interlock""
Bit9 ""OverVoltage interlock""
Bit10 ""OverCurrent interlock""
Bit11 ""OptoFiberDarkTimeout""",,,,,,,,,,,,,,,,,
200,201,Single,A,True,Current readvalue of the filament power supply,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
202,203,Single,V,True,Voltage readvalue of the filament power supply,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
300,301,Single,nA,True,Current readvalue of the ion pump controller 1,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
302,303,Single,kV,True,Voltage readvalue of the ion pump controller 1,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
400,401,Single,A,True,Current readvalue of solenoid power supply 1,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
402,403,Single,V,True,Voltage readvalue of solenoid power supply 1,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
404,405,Single,A,True,Current readvalue of solenoid power supply 2,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
406,407,Single,V,True,Voltage readvalue of solenoid power supply 2,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
408,409,Single,A,True,Current readvalue of solenoid power supply 3,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
410,411,Single,V,True,Voltage readvalue of solenoid power supply 3,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
500,501,Single,A,True,Current Transformer readvalue,,,,,Scaled read value of the pulse current amplitude,,,,,,,,,,,,,,,,,
502,503,Single,kV,True,Capacitive voltage-divider readvalue,,,,,Scaled read value of the pulse voltage amplitude,,,,,,,,,,,,,,,,,
504,505,Single,µs,True,Full Width Half Maximum readvalue,,,,,Scaled read value of the pulse width at 50% height of the current pulse,,,,,,,,,,,,,,,,,
600,601,Single,ºC,True,Oil temperature readvalue,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
602,603,Single,mm,True,Oil level readvalue,,,,,Scaled readvalue of the oil level (0mm at Klystron min specification),,,,,,,,,,,,,,,,,
700,701,Single,ºC,True,Cool\InletWaterTemp,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
702,703,Single,ºC,True,Cool\ColRtnTemp,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
704,705,Single,ºC,True,Cool\SolTemp,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
800,801,Single,W,True,RF drive power,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
820,821,Single,dBm,True,RF forward power,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
822,823,Single,dBm,True,RF reflected power,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
824,825,Single,,True,RF VSWR,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
826,827,Single,µs,True,RF pulse length,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
900,901,Single,l/m,True,Cooling water flow rate,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
902,903,Single,l/m,True,Cooling water flow rate,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
904,905,Single,l/m,True,Cooling water flow rate,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
908,909,Single,l/m,True,Cooling water flow rate,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
910,911,Single,l/m,True,Cooling water flow rate,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
912,913,Single,l/m,True,Cooling water flow rate,,,,,Scaled readvalue,,,,,,,,,,,,,,,,,
999,999,Uint16,l/m,True,Event logg index,,,,,This is the Index of the latest entry (Modulo 50),,,,,,,,,,,,,,,,,
1000,1049,Uint16,l/m,True,Event logg increment array,,,,,"Incremented for each new event, this enables GUI to see if new events has ocurred",,,,,,,,,,,,,,,,,
1050,1099,Uint16,l/m,True,Event logg type array,,,,,"0=State, 1=Warning, 2=Interlock, 3=Error, 4=Parameter, 5=Message",,,,,,,,,,,,,,,,,
1100,1299,Uint64,l/m,True,Event logg time-stamp array,,,,,"TYPE T_FILETIME :
STRUCT
        dwLowDateTime   : DWORD;
        dwHighDateTime  : DWORD;
END_STRUCT
END_TYPE
The T_FILETIME structure is a 64-bit value representing the number of 100-nanosecond intervals since January 1, 1601 (UTC).

(Since modbus doesn’t support Uint64 you have to read four words per timestamp)",,,,,,,,,,,,,,,,,
1300,1399,Uint32,l/m,True,Event logg trig id array,,,,,The current trig id/count,,,,,,,,,,,,,,,,,
1400,1449,Uint16,l/m,True,Event logg index array,,,,,"Shows which item that generated this event, see Matrixltems in GUI Resource.xml",,,,,,,,,,,,,,,,,
1450,1499,Uint16,l/m,True,Event logg text number array,,,,,"See GUI Resource.xml\Strings, Type determines sub-element ",,,,,,,,,,,,,,,,,
1500,1549,Uint16,l/m,True,Event logg data type array,,,,,"0=No data, 1=Real, 2=Bool, 3=Int, 4=Uint, 5=Word, 6=Dint, 7=Udint, 8=Dword",,,,,,,,,,,,,,,,,
1550,1649,Uint32,l/m,True,Event logg data array,,,,,"Here data for the event can be entered, if DataType indicates NoData then this value is random",,,,,,,,,,,,,,,,,
1700,1712,Struct,l/m,True,Main event struct,,,,,"This can be used to present the actual state of the modulator, you see State, Warnings, FirstInterlock and Error messages
STRUCT
	Incr		: Uint16;	(addr: 1700)
	Type		: Uint16;	(addr: 1701)
	TimeStamp	: Uint64;	(addr: 1702)
	TrigId		: Uint32;	(addr: 1706)
	Index		: Uint16;	(addr: 1708)
	TextNo		: Uint16;	(addr: 1709)
	DataType	: Uint16;	(addr: 1710)
	Data		: Uint32;	(addr: 1711)
END_STRUCT",,,,,,,,,,,,,,,,,
1715,1727,Struct,l/m,True,Main event struct,,,,,"Displays the first interlock event since previous reset, the Type element will indicate active interlock whith the value 2 and inactive/resetted with the value 0
STRUCT
	Incr		: Uint16;	(addr: 1715)
	Type		: Uint16;	(addr: 1716)
	TimeStamp	: Uint64;	(addr: 1717)
	TrigId		: Uint32;	(addr: 1721)
	Index		: Uint16;	(addr: 1723)
	TextNo		: Uint16;	(addr: 1724)
	DataType	: Uint16;	(addr: 1725)
	Data		: Uint32;	(addr: 1726)
END_STRUCT",,,,,,,,,,,,,,,,,
2000,2255,Uint16,l/m,True,State read array,,,,,"In this array you can see the actual state of all items in the modulator, see Strings\State in GUI Resource.xml ",,,,,,,,,,,,,,,,,
2300,2555,Uint16,l/m,True,Status bit's array,,,,,"In this array you can see the unlatched status bit's of all items in the modulator,
	Bit0: Warning condition exists
	Bit1: Interlock condition exists
",,,,,,,,,,,,,,,,,
3000,3000,Int16,l/m,True,Customer waveform sequence,,,,,"Sequence number reply when a new waveform is received
This variable will reply:
99 if fetching did not produce any result
100 when Cvd T-0 is received
101 when Cvd T-1 is received
102 when Cvd T-2 is received
103 when Cvd T-3 is received
104 when Cvd T-4 is received
105 when Cvd saved reference is received
106 when Cvd upper interlock bondary is received
107 when Cvd lower interlock bondary is received
108 when Cvd upper warning bondary is received
109 when Cvd lower warning bondary is received
110 when Ct T-0 is received
111 when Ct T-1 is received
112 when Ct T-2 is received
113 when Ct T-3 is received
114 when Ct T-4 is received
115 when Ct saved reference is received
116 when Ct upper interlock bondary is received
117 when Ct lower interlock bondary is received
118 when Ct upper warning bondary is received
119 when Ct lower warning bondary is received
120 when RfFwd T-0 is received
121 when RfFwd T-1 is received
122 when RfFwd T-2 is received
123 when RfFwd T-3 is received
124 when RfFwd T-4 is received
125 when RfFwd saved reference is received
126 when RfFwd upper interlock bondary is received
127 when RfFwd lower interlock bondary is received
128 when RfFwd upper warning bondary is received
129 when RfFwd lower warning bondary is received
130 when RfRfl T-0 is received
131 when RfRfl T-1 is received
132 when RfRfl T-2 is received
133 when RfRfl T-3 is received
134 when RfRfl T-4 is received
135 when RfRfl saved reference is received
136 when RfRfl upper interlock bondary is received
137 when RfRfl lower interlock bondary is received
138 when RfRfl upper warning bondary is received
139 when RfRfl lower warning bondary is received",,,,,,,,,,,,,,,,,
3001,3512,Int16,l/m,True,Customer waveform,,,,,"Byte 0-7 TimeStamp (either in Windows FileTime or in EpicsTime)
Byte 8-15 PulseId
Byte 16-17 NoOfSamples
Byte 18-1023 Waveform",,,,,,,,,,,,,,,,,
0,0,Uint16,l/m,False,Communication watchdog,,,,,"Increment this value at least every second (depending on timeout setting in local GUI), used by the modulator to monitor this communication",,,,,,,,,,,,,,,,,
1,1,Int16,l/m,False,Modulator target state,,,,,"This is the target state of the MSM (Main State Machine), example:
iStateTarget and iStateRead are both ""Off"" (1)
You request the modulator to ""Hv"" state by writing 9 to StateTarget
See Strings\State in GUI Resource.xml",,,,,,,,,,,,,,,,,
2,2,Uint16,l/m,False,"Command bit's
Bit0: Reset
Bit1: ECAT control (use .g_rVoltSetEcat)",,,,,"A word containing 16 command bit's
      Bit0: Reset (remember to set it back to zero afterwards)
      Bit1: ECAT control (use .g_rVoltSetEcat)",,,,,,,,,,,,,,,,,
100,101,Single,V,False,Voltage setvalue of all Ccps,,,,,"Scaled setvalue, range 0-1200VDC",,,,,,,,,,,,,,,,,
200,201,Single,A,False,Filament current setvalue,,,,,"Scaled setvalue, range 0-30ADC",,,,,,,,,,,,,,,,,
300,301,Single,µs,False,Pulse width setvalue of all SU's,,,,,"Scaled setvalue, range 1-5µs",,,,,,,,,,,,,,,,,
400,401,Single,Hz,False,Local pulse repetition frequency,,,,,Scaled setvalue.,,,,,,,,,,,,,,,,,
3000,3000,Int16,Hz,False,Customer waveform sequence,,,,,"Sequence number used to fetch waveforms
Set this variable to a specific value to start fetching a specific waveform:
0 Cvd T-0
1 Cvd T-1 
2 Cvd T-2
3 Cvd T-3
4 Cvd T-4
5 Cvd saved reference
6 Cvd upper interlock bondary
7 Cvd lower interlock bondary 
8 Cvd upper warning bondary
9 Cvd lower warning bondary
10 Ct T-0
11 Ct T-1 
12 Ct T-2
13 Ct T-3
14 Ct T-4
15 Ct saved reference
16 Ct upper interlock bondary
17 Ct lower interlock bondary 
18 Ct upper warning bondary
19 Ct lower warning bondary
20 RfFwd T-0
21 RfFwd T-1 
22 RfFwd T-2
23 RfFwd T-3
24 RfFwd T-4
25 RfFwd saved reference
26 RfFwd upper interlock bondary
27 RfFwd lower interlock bondary 
28 RfFwd upper warning bondary
29 RfFwd lower warning bondary
30 RfRfl T-0
31 RfRfl T-1 
32 RfRfl T-2
33 RfRfl T-3
34 RfRfl T-4
35 RfRfl saved reference
36 RfRfl upper interlock bondary
37 RfRfl lower interlock bondary 
38 RfRfl upper warning bondary
39 RfRfl lower warning bondary",,,,,,,,,,,,,,,,,
